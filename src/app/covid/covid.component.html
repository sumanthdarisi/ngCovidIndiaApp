<div *ngIf="errorMessage =='NA'; else errorBlock">
    <div class="row">
        <div class="col">
            <h3 id="titleName">Covid Stats India</h3>
        </div>
        <div class="col">
            <div class="float-right" style="text-align: right; color: gray; font-weight: bold;">Indian Population <br>
                <span class="numbers" [countUp]=IndianPopulation *ngIf="IndianPopulation; else elsePop"> </span>
                <ng-template #elsePop>
                    <span class="numbers" [countUp]="1380159707">1,380,159,707</span>
                </ng-template>
            </div>
        </div>
    </div>

    <div class="row">
        <div @items class="col" style="margin:3px;" *ngFor="let d of Nt_data">
            <div class="card {{d.style}}">
                <div class="card-header">
                    {{d.Name}} <span class={{d.icon}}></span>
                </div>
                <div class="card-body" style="font-weight: bold;">
                    <span [countUp]=d.number></span>
                    <span class={{d.del_style}} style="margin-left: 6px;" *ngIf="d.del && d.del_style">
                        <i class="fa fa-arrow-up" aria-hidden="true" *ngIf="d.del >=0 "></i>
                        <i class="fa fa-arrow-down" aria-hidden="true" *ngIf="d.del < 0"> </i> <span
                            [countUp]=d.del></span></span>
                    <span class="cardPercentage" *ngIf="d.percent">
                        {{d.percent | percent}} <br>
                        <span class="percText" *ngIf="d.percText">{{d.percText}}</span>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col" style="margin: 3px;">
            <div class="card" style="min-width: 10rem">
                <div class="card-body" style="font-weight: bold; background-color: rgba(223, 223, 223, 0.2)">
                    <div class="row">
                        <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                            <canvas id="NationalData"
                                style="width:100%; height:275px; margin: 0px 0px 22px 0px;"></canvas>
                        </div>
                        <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                            <canvas id="tpStates" style="width:100%;"></canvas>
                            <div id="radios">
                                <div class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" id="confirmed" name="customRadioInline1"
                                        class="custom-control-input" (click)=topGraph($event.target.id) checked>
                                    <label class="custom-control-label" for="confirmed">Confirmed </label>
                                </div>
                                <div class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" id="recovered" name="customRadioInline1"
                                        class="custom-control-input" (click)=topGraph($event.target.id)>
                                    <label class="custom-control-label" for="recovered">Recovered</label>
                                </div>
                                <div class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" id="deceased" name="customRadioInline1"
                                        class="custom-control-input" (click)=topGraph($event.target.id)>
                                    <label class="custom-control-label" for="deceased">Deceased</label>
                                </div>
                                <div class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" id="tested" name="customRadioInline1"
                                        class="custom-control-input" (click)=topGraph($event.target.id)>
                                    <label class="custom-control-label" for="tested">Tested</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="alert alert-info alert-dismissible fade show" role="alert" style="margin-top: 5px;">
        Click on the state name below to view the respective districts data
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="form-group has-search" style="margin-top:20px">
        <span class="fa fa-search form-control-feedback"></span>
        <input type="text" class="form-control" placeholder={{placeHolderStateName}} #searchValue
            (input)="searchWord($event.target.value)">
    </div>
    <div class="row">
        <div class="swipe"><span style="float: right;"><i class="fa fa-long-arrow-left" aria-hidden="true"></i>Swipe
                Left</span></div>
        <table class="table table-responsive" id="homeTable">
            <thead>
                <tr>
                    <th #name id="statename"
                        (click)="st_sortByClick('name')">State Name<i *ngIf="counter%2!=0 && st_sortBy=='name'"
                            class="fa fa-sort-alpha-asc"></i>
                        <i *ngIf="counter%2==0 && st_sortBy=='name'" class="fa fa-sort-alpha-desc"></i>
                        <i *ngIf="st_sortBy!='name'" class="fa fa-sort"></i></th>
                    <th (click)="st_sortByClick('updated')" #updated>Last Updated</th>
                    <th (click)="st_sortByClick('population')" #population style="text-align: center;">Population<i
                            *ngIf="counter%2!=0 && st_sortBy=='population'" class="fa fa-sort-numeric-asc"></i>
                        <i *ngIf="counter%2==0 && st_sortBy=='population'" class="fa fa-sort-numeric-desc"></i>
                        <i *ngIf="st_sortBy!='population'" class="fa fa-sort"></i></th>
                    <th (click)="st_sortByClick('confirmed')" #confirmed if="home_confirmed"
                        style="text-align: center;">Confirmed<i *ngIf="counter%2!=0 && st_sortBy=='confirmed'"
                            class="fa fa-sort-numeric-asc"></i>
                        <i *ngIf="counter%2==0 && st_sortBy=='confirmed'" class="fa fa-sort-numeric-desc"></i>
                        <i *ngIf="st_sortBy!='confirmed'" class="fa fa-sort"></i></th>
                    <th (click)="st_sortByClick('active')" #active style="text-align: center;">Active<i
                            *ngIf="counter%2!=0 && st_sortBy=='active'" class="fa fa-sort-numeric-asc"></i>
                        <i *ngIf="counter%2==0 && st_sortBy=='active'" class="fa fa-sort-numeric-desc"></i>
                        <i *ngIf="st_sortBy!='active'" class="fa fa-sort"></i></th>
                    <th (click)="st_sortByClick('recovered')" #recovered style="text-align: center;">Recovered<i
                            *ngIf="counter%2!=0 && st_sortBy=='recovered'" class="fa fa-sort-numeric-asc"></i>
                        <i *ngIf="counter%2==0 && st_sortBy=='recovered'" class="fa fa-sort-numeric-desc"></i>
                        <i *ngIf="st_sortBy!='recovered'" class="fa fa-sort"></i></th>
                    <th (click)="st_sortByClick('deceased')" #deceased style="text-align: center;">Deceased<i
                            *ngIf="counter%2!=0 && st_sortBy=='deceased'" class="fa fa-sort-numeric-asc"></i>
                        <i *ngIf="counter%2==0 && st_sortBy=='deceased'" class="fa fa-sort-numeric-desc"></i>
                        <i *ngIf="st_sortBy!='deceased'" class="fa fa-sort"></i></th>
                    <th (click)="st_sortByClick('tested')" #tested style="text-align: center;">Tested<i
                            *ngIf="counter%2!=0 && st_sortBy=='tested'" class="fa fa-sort-numeric-asc"></i>
                        <i *ngIf="counter%2==0 && st_sortBy=='tested'" class="fa fa-sort-numeric-desc"></i>
                        <i *ngIf="st_sortBy!='tested'" class="fa fa-sort"></i></th>
                </tr>
            </thead>

            <tbody *ngFor="let d of SortStates" class="thead">
                <tr (click)="stateCode($event)">
                    <td id="statename" >{{d.st_name}}
                    </td>
                    <td *ngIf="d.st_lastupdate != 'NA'; else elseBlock">
                        {{d.st_lastupdate| date:'mediumDate'}}</td>
                    <td *ngIf="d.st_population != 'NA' && d.st_population != -1.5; else elseBlock"
                        style="text-align: center;">
                        {{d.st_population | number}}</td>
                    <td *ngIf="d.st_confirmed!= 'NA' && d.st_confirmed != -1.5; else elseBlock"
                        style="text-align: center;">
                        {{d.st_confirmed | number}}
                        <span id="delta_green" *ngIf="d.delta_con!='NA' && d.delta_con < 0">
                            <i class="fa fa-arrow-down" aria-hidden="true"></i> {{d.delta_con | number}}
                        </span>
                        <span id="delta_red" *ngIf="d.delta_con!='NA' && d.delta_con > 0">
                            <i class="fa fa-arrow-up" aria-hidden="true"></i> {{d.delta_con | number}}
                        </span>
                    </td>
                    <td *ngIf="d.st_active != 'NA' && d.st_active != -1.5; else elseBlock" style="text-align: center;">
                        {{d.st_active| number}}
                        <span id="delta_green" *ngIf="d.delta_act!='NA' && d.delta_act < 0">
                            <i class="fa fa-arrow-down" aria-hidden="true"></i> {{d.delta_act | number}}
                        </span>
                        <span id="delta_red" *ngIf="d.delta_act!='NA' && d.delta_act > 0">
                            <i class="fa fa-arrow-up" aria-hidden="true"></i> {{d.delta_act | number}}
                        </span>
                    </td>
                    <td *ngIf="d.st_recoverd != 'NA' && d.st_recoverd != -1.5; else elseBlock"
                        style="text-align: center;">
                        {{d.st_recoverd | number}}
                        <span id="delta_green" *ngIf="d.delta_rec!='NA' && d.delta_rec < 0">
                            <i class="fa fa-arrow-down" aria-hidden="true"></i> {{d.delta_rec | number}}
                        </span>
                        <span id="delta_red" *ngIf="d.delta_rec!='NA' && d.delta_rec > 0">
                            <i class="fa fa-arrow-up" aria-hidden="true"></i> {{d.delta_rec | number}}
                        </span>
                    </td>
                    <td *ngIf="d.st_deceased != 'NA' && d.st_deceased != -1.5; else elseBlock"
                        style="text-align: center;">
                        {{d.st_deceased | number}}
                        <span id="delta_green" *ngIf="d.delta_dec!='NA' && d.delta_dec < 0">
                            <i class="fa fa-arrow-down" aria-hidden="true"></i> {{d.delta_dec | number}}
                        </span>
                        <span id="delta_red" *ngIf="d.delta_dec!='NA' && d.delta_dec > 0">
                            <i class="fa fa-arrow-up" aria-hidden="true"></i> {{d.delta_dec | number}}
                        </span>
                    </td>
                    <td *ngIf="d.st_tested != 'NA' && d.st_tested != -1.5; else elseBlock" style="text-align: center;">
                        {{d.st_tested | number}}
                        <span id="delta_green" *ngIf="d.delta_tes!='NA' && d.delta_tes < 0">
                            <i class="fa fa-arrow-down" aria-hidden="true"></i> {{d.delta_tes | number}}
                        </span>
                        <span id="delta_red" *ngIf="d.delta_tes!='NA' && d.delta_tes > 0">
                            <i class="fa fa-arrow-up" aria-hidden="true"></i> {{d.delta_tes | number}}
                        </span>
                    </td>
                </tr>
                <ng-template #elseBlock>
                    <td style="text-align: center;">-NA-</td>
                </ng-template>
            </tbody>
        </table>
    </div>
</div>


<ng-template #errorBlock>
    <div class="jumbotron">
        <div style="text-align: center; font-size: 20px;">{{errorMessage}}</div>
    </div>
</ng-template>

